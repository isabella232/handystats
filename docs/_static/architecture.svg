<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg2" width="635.375" height="436.313" version="1.1"><defs id="defs4"><marker style="overflow:visible" id="Arrow2Lend" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-4" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-0" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-9" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-8" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-2" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-3" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-0" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-1" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-24" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-07" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-8" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-9" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker><marker style="overflow:visible" id="Arrow2Lend-05" orient="auto" refX="0" refY="0"><path style="fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" id="path3890-02" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)"/></marker></defs><metadata id="metadata7"/><g id="layer1" transform="translate(-52.46875,-368.96836)"><rect id="rect2985" width="240.105" height="182.827" x="52.978" y="405.519" style="fill:#00f;fill-rule:evenodd;stroke:#000;stroke-width:1.01272154px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/><rect style="fill:teal;fill-rule:evenodd;stroke:#000;stroke-width:1.01272154000000003px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="rect2987" width="240.105" height="182.827" x="52.978" y="405.519"/><rect id="rect2991" width="240.105" height="182.827" x="59.856" y="414.437" style="fill:teal;fill-rule:evenodd;stroke:#000;stroke-width:1.01272154000000003px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/><rect style="fill:none;stroke:none" id="rect2993" width="240.105" height="182.827" x="82.991" y="434.185"/><text id="text3003" x="70.741" y="406.987" transform="scale(0.96305557,1.0383617)" xml:space="preserve" style="font-size:10.71647835px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan3005" x="70.741" y="406.987">...</tspan><tspan id="tspan3009" x="70.741" y="433.779">HANDY_COUNTER_INCREMENT(&quot;counter&quot;, 1);</tspan><tspan id="tspan3013" x="70.741" y="460.57">...</tspan><tspan id="tspan3017" x="70.741" y="487.361">HANDY_TIMER_START(&quot;timer&quot;);</tspan><tspan id="tspan3021" x="70.741" y="514.152">...</tspan><tspan id="tspan3025" x="70.741" y="540.943">HANDY_TIMER_STOP(&quot;timer&quot;);</tspan><tspan id="tspan3029" x="70.741" y="567.735">...</tspan></text><rect id="rect3037" width="63.153" height="71.347" x="130.512" y="459.666" style="fill:none;stroke:none"/><rect id="rect3831" width="33.14" height="31.214" x="381.872" y="474.955" style="fill:#0f0;fill-opacity:.5647446;stroke:#000;stroke-width:1.01272154"/><use id="use3835" width="744.094" height="1052.362" x="0" y="0" transform="translate(33.139526,0)" xlink:href="#rect3831"/><use id="use3837" width="744.094" height="1052.362" x="0" y="0" transform="translate(66.279045,0)" xlink:href="#rect3831"/><use id="use3839" width="744.094" height="1052.362" x="0" y="0" transform="translate(99.418569,0)" xlink:href="#rect3831"/><use id="use3841" width="744.094" height="1052.362" x="0" y="0" transform="translate(132.55814,0)" xlink:href="#rect3831"/><use id="use3843" width="744.094" height="1052.362" x="0" y="0" transform="translate(165.69757,0)" xlink:href="#rect3831"/><use id="use3845" width="744.094" height="1052.362" x="0" y="0" transform="translate(198.83713,0)" xlink:href="#rect3831"/><use id="use3847" width="744.094" height="1052.362" x="0" y="0" transform="translate(231.97668,0)" xlink:href="#rect3831"/><path id="path4313" d="m 296.20952,447.56254 c 50.02193,-9.55541 82.53611,33.12547 82.53611,33.12547" style="fill:none;stroke:#000;stroke-width:1.01272154px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><path id="path4313-2" d="m 228.51531,502.76893 c 70.65593,-24.20689 149.4405,-12.10351 149.4405,-12.10351" style="fill:none;stroke:#000;stroke-width:1.01272154px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><path id="path4313-2-4" d="m 219.82946,557.70301 c 65.11211,-62.52078 150.65137,-57.3418 156.31849,-57.96935" style="fill:none;stroke:#000;stroke-width:1.01272154px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><text id="text4731" x="167.572" y="375.885" transform="scale(0.99073272,1.009354)" xml:space="preserve" style="font-size:14.1781044px;font-style:normal;font-weight:400;text-align:center;line-height:125%;letter-spacing:0;word-spacing:0;text-anchor:middle;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan4733" x="167.572" y="375.885">User&apos;s (multithreaded)</tspan><tspan id="tspan4737" x="167.572" y="393.607">application</tspan></text><text id="text4731-5" x="516.661" y="448.905" transform="scale(0.99073272,1.009354)" xml:space="preserve" style="font-size:14.1781044px;font-style:normal;font-weight:400;text-align:center;line-height:125%;letter-spacing:0;word-spacing:0;text-anchor:middle;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan4767" x="516.661" y="448.905">Event message queue</tspan></text><rect id="rect4771" width="289.931" height="199.827" x="397.307" y="604.855" style="fill:olive;fill-opacity:.5647446;stroke:#000;stroke-width:1.21043789;stroke-miterlimit:3.5;stroke-dasharray:none"/><g id="g4952" transform="matrix(1.0373601,0,0,1.1642249,-17.231199,-89.449058)"><g id="g4839" transform="translate(11.217505,-4.9855574)"><g id="g4803" transform="translate(0,-5.6087524)"><rect style="fill:#fff;fill-opacity:.5647446;stroke:#000;stroke-width:1.04171288;stroke-miterlimit:3.5;stroke-dasharray:none" id="rect4773" width="152.018" height="97.177" x="502.316" y="646.683"/></g><text id="text4783" x="525.093" y="642.476" transform="scale(0.97082531,1.0300514)" xml:space="preserve" style="font-size:10.75654793px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan4787" x="525.093" y="642.476">&quot;counter&quot; : &lt;counter metric&gt;</tspan><tspan id="tspan4797" x="525.093" y="669.367">&quot;timer&quot; : &lt;timer metric&gt;</tspan><tspan id="tspan4801" x="525.093" y="696.259"> ...</tspan></text></g><text style="font-size:11px;font-style:normal;font-weight:400;line-height:125%;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none;font-family:Sans" id="text4849" x="535.947" y="629.213" xml:space="preserve"><tspan id="tspan4853" x="535.947" y="629.213">Internal metrics map</tspan></text></g><path id="path4313-2-4-8" d="m 648.45359,491.33333 c 33.49878,0.12491 32.26427,84.8849 25.01096,114.02774" style="fill:none;stroke:#000;stroke-width:1.01272154px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><text id="text4731-5-4" x="544.785" y="587.778" transform="scale(0.99073272,1.009354)" xml:space="preserve" style="font-size:14.1781044px;font-style:normal;font-weight:400;text-align:center;line-height:125%;letter-spacing:0;word-spacing:0;text-anchor:middle;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan4767-1" x="544.785" y="587.778">Processing core</tspan></text><g id="g4910" transform="matrix(1.0373601,0,0,1.1642249,-23.049494,-125.72601)"><rect style="fill:#fff;fill-opacity:.5647446;stroke:#000;stroke-width:.62753105;stroke-miterlimit:3.5;stroke-dasharray:none" id="rect4902" width="67.677" height="40.88" x="417.977" y="657.694"/><text style="font-size:12px;font-style:normal;font-weight:400;text-align:center;line-height:125%;letter-spacing:0;word-spacing:0;text-anchor:middle;fill:#000;fill-opacity:1;stroke:none;font-family:Sans" id="text4904" x="451.427" y="675.329" xml:space="preserve"><tspan id="tspan4906" x="451.427" y="675.329">Metrics</tspan><tspan id="tspan4908" x="451.427" y="690.329">dump</tspan></text></g><g id="g4910-4" transform="matrix(1.0373601,0,0,1.1642249,2.1631239,-14.355847)"><g id="g4946" transform="translate(-25.550983,-25.550983)"><rect id="rect4902-9" width="67.677" height="40.88" x="419.847" y="658.317" style="fill:#fff;fill-opacity:.5647446;stroke:#000;stroke-width:.62753105;stroke-miterlimit:3.5;stroke-dasharray:none"/><text id="text4904-3" x="451.427" y="675.329" xml:space="preserve" style="font-size:12px;font-style:normal;font-weight:400;text-align:center;line-height:125%;letter-spacing:0;word-spacing:0;text-anchor:middle;fill:#000;fill-opacity:1;stroke:none;font-family:Sans"><tspan id="tspan4906-7" x="451.427" y="675.329">JSON</tspan><tspan id="tspan4908-7" x="451.427" y="690.329">dump</tspan></text></g></g><path id="path4313-2-4-8-2" d="m 514.07124,681.45183 c -11.26516,-7.11328 -11.89495,-11.42605 -31.6775,-14.51092" style="fill:none;stroke:#000;stroke-width:1.09896314px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><path id="path4313-2-4-8-2-2" d="m 514.2741,719.9428 c -13.85097,10.29972 -11.89488,12.51677 -31.67733,23.21733" style="fill:none;stroke:#000;stroke-width:1.09896314px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-mid:none;marker-end:url(#Arrow2Lend)"/><path id="path4313-2-4-8-2-0" d="M 409.0807,661.37337 C 253.12149,653.85398 258.01001,622.19165 253.16327,599.75865" style="fill:none;stroke:#000;stroke-width:1.01272154;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.01272166,4.05088671;stroke-dashoffset:0;marker-mid:none;marker-end:url(#Arrow2Lend)"/><path id="path4313-2-4-8-2-0-6" d="M 410.14596,738.16979 C 139.7615,735.10962 149.72292,619.73677 148.09701,600.46548" style="fill:none;stroke:#000;stroke-width:1.01272154;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.01272166,4.05088671;stroke-dashoffset:0;marker-mid:none;marker-end:url(#Arrow2Lend)"/></g></svg>